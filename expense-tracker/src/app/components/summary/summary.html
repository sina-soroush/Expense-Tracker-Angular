<div class="summary-sidebar">
  <div class="sidebar-header">
    <lucide-icon [img]="WalletIcon" [size]="24" style="color: #FDB44B;"></lucide-icon>
    <h2>Expenses</h2>
  </div>

  <div class="total-section">
    <div class="total-amount">{{ totalAmount | currency }}</div>
    <div class="total-count">{{ expenseCount }} transaction{{ expenseCount !== 1 ? 's' : '' }}</div>
  </div>

  <div class="category-section" *ngIf="categoryTotals.length > 0">
    <div class="category-grid">
      <div class="category-circle-card" *ngFor="let item of categoryTotals">
        <div class="circle-container">
          <svg class="circle-progress" viewBox="0 0 120 120">
            <circle class="circle-bg" cx="60" cy="60" r="52"></circle>
            <circle 
              class="circle-progress-bar" 
              cx="60" 
              cy="60" 
              r="52"
              [style.stroke-dashoffset]="327 - (327 * item.percentage / 100)"></circle>
          </svg>
          <div class="circle-content">
            <lucide-icon [img]="getCategoryIcon(item.category)" [size]="28"></lucide-icon>
            <span class="circle-percentage">{{ item.percentage | number: '1.0-0' }}%</span>
          </div>
        </div>
        <div class="category-details">
          <div class="category-name">{{ item.category }}</div>
          <div class="category-amount">{{ item.amount | currency }}</div>
        </div>
      </div>
    </div>
  </div>
</div>
